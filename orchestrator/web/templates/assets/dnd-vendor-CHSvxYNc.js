import{a as e,r as t,R as n}from"./query-vendor-B-n6lioW.js";var r,i,o={exports:{}},a={};function s(){if(r)return a;r=1;var t=e();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,a.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},a.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},a.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},a.prefetchDNS=function(e){"string"==typeof e&&o.d.D(e)},a.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},a.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},a.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},a.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},a.requestFormReset=function(e){o.d.r(e)},a.unstable_batchedUpdates=function(e,t){return e(t)},a.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},a.useFormStatus=function(){return l.H.useHostTransitionStatus()},a.version="19.2.4",a}function l(){if(i)return o.exports;return i=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),o.exports=s(),o.exports}var c=l();const u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function d(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function f(e){return"nodeType"in e}function g(e){var t,n;return e?d(e)?e:f(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function v(e){const{Document:t}=g(e);return e instanceof t}function h(e){return!d(e)&&e instanceof g(e).HTMLElement}function p(e){return e instanceof g(e).SVGElement}function b(e){return e?d(e)?e.document:f(e)?v(e)?e:h(e)||p(e)?e.ownerDocument:document:document:document}const m=u?t.useLayoutEffect:t.useEffect;function y(e){const n=t.useRef(e);return m(()=>{n.current=e}),t.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function w(e,n){void 0===n&&(n=[e]);const r=t.useRef(e);return m(()=>{r.current!==e&&(r.current=e)},n),r}function x(e,n){const r=t.useRef();return t.useMemo(()=>{const t=e(r.current);return r.current=t,t},[...n])}function D(e){const n=y(e),r=t.useRef(null),i=t.useCallback(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,i]}function E(e){const n=t.useRef();return t.useEffect(()=>{n.current=e},[e]),n.current}let C={};function R(e,n){return t.useMemo(()=>{if(n)return n;const t=null==C[e]?0:C[e]+1;return C[e]=t,e+"-"+t},[e,n])}function S(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[i,o]of r){const n=t[i];null!=n&&(t[i]=n+e*o)}return t},{...t})}}const O=S(1),M=S(-1);function T(e){if(!e)return!1;const{KeyboardEvent:t}=g(e.target);return t&&e instanceof t}function N(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=g(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const I=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[I.Translate.toString(e),I.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),A="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function k(e){return e.matches(A)?e:e.querySelector(A)}const L={display:"none"};function _(e){let{id:t,value:r}=e;return n.createElement("div",{id:t,style:L},r)}function P(e){let{id:t,announcement:r,ariaLiveType:i="assertive"}=e;return n.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},r)}const B=t.createContext(null);const z={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},U={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function F(e){let{announcements:r=U,container:i,hiddenTextDescribedById:o,screenReaderInstructions:a=z}=e;const{announce:s,announcement:l}=function(){const[e,n]=t.useState("");return{announce:t.useCallback(e=>{null!=e&&n(e)},[]),announcement:e}}(),u=R("DndLiveRegion"),[d,f]=t.useState(!1);if(t.useEffect(()=>{f(!0)},[]),function(e){const n=t.useContext(B);t.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}(t.useMemo(()=>({onDragStart(e){let{active:t}=e;s(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;r.onDragMove&&s(r.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;s(r.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;s(r.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;s(r.onDragCancel({active:t,over:n}))}}),[s,r])),!d)return null;const g=n.createElement(n.Fragment,null,n.createElement(_,{id:o,value:a.draggable}),n.createElement(P,{id:u,announcement:l}));return i?c.createPortal(g,i):g}var j;function X(){}function Y(e,n){return t.useMemo(()=>({sensor:e,options:null!=n?n:{}}),[e,n])}function K(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo(()=>[...n].filter(e=>null!=e),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(j||(j={}));const H=Object.freeze({x:0,y:0});function W(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function V(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){const n=t.width*t.height,r=e.width*e.height,i=a*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const q=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:e}=o,r=n.get(e);if(r){const n=V(r,t);n>0&&i.push({id:e,data:{droppableContainer:o,value:n}})}}return i.sort(W)};function G(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:H}function J(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const $=J(1);const Q={ignoreTransform:!1};function Z(e,t){void 0===t&&(t=Q);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=g(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(n),c=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function ee(e){return Z(e,{ignoreTransform:!0})}function te(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(v(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!h(i)||p(i))return n;if(n.includes(i))return n;const o=g(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=g(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(i,o)&&n.push(i),function(e,t){return void 0===t&&(t=g(e).getComputedStyle(e)),"fixed"===t.position}(i,o)?n:r(i.parentNode)}(e):n}function ne(e){const[t]=te(e,1);return null!=t?t:null}function re(e){return u&&e?d(e)?e:f(e)?v(e)||e===b(e).scrollingElement?window:h(e)?e:null:null:null}function ie(e){return d(e)?e.scrollX:e.scrollLeft}function oe(e){return d(e)?e.scrollY:e.scrollTop}function ae(e){return{x:ie(e),y:oe(e)}}var se;function le(e){return!(!u||!e)&&e===document.scrollingElement}function ce(e){const t={x:0,y:0},n=le(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(se||(se={}));const ue={x:.2,y:.2};function de(e,t,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=ue);const{isTop:c,isBottom:u,isLeft:d,isRight:f}=ce(e),g={x:0,y:0},v={x:0,y:0},h=t.height*i.y,p=t.width*i.x;return!c&&o<=t.top+h?(g.y=se.Backward,v.y=r*Math.abs((t.top+h-o)/h)):!u&&l>=t.bottom-h&&(g.y=se.Forward,v.y=r*Math.abs((t.bottom-h-l)/h)),!f&&s>=t.right-p?(g.x=se.Forward,v.x=r*Math.abs((t.right-p-s)/p)):!d&&a<=t.left+p&&(g.x=se.Backward,v.x=r*Math.abs((t.left+p-a)/p)),{direction:g,speed:v}}function fe(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function ge(e){return e.reduce((e,t)=>O(e,ae(t)),H)}const ve=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ie(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+oe(t),0)}]];class he{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=te(t),r=ge(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of ve)for(const e of o)Object.defineProperty(this,e,{get:()=>{const t=a(n),o=r[i]-t;return this.rect[e]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pe{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function be(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var me,ye;function we(e){e.preventDefault()}function xe(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(me||(me={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(ye||(ye={}));const De={start:[ye.Space,ye.Enter],cancel:[ye.Esc],end:[ye.Space,ye.Enter,ye.Tab]},Ee=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ye.Right:return{...n,x:n.x+25};case ye.Left:return{...n,x:n.x-25};case ye.Down:return{...n,y:n.y+25};case ye.Up:return{...n,y:n.y-25}}};class Ce{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new pe(b(t)),this.windowListeners=new pe(g(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(me.Resize,this.handleCancel),this.windowListeners.add(me.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(me.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Z),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);ne(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(H)}handleKeyDown(e){if(T(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=De,coordinateGetter:o=Ee,scrollBehavior:a="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:H;this.referenceCoordinates||(this.referenceCoordinates=c);const u=o(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=M(u,c),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:o,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:f}=ce(n),g=fe(n),v={x:Math.min(i===ye.Right?g.right-g.width/2:g.right,Math.max(i===ye.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(i===ye.Down?g.bottom-g.height/2:g.bottom,Math.max(i===ye.Down?g.top:g.top+g.height/2,u.y))},h=i===ye.Right&&!s||i===ye.Left&&!l,p=i===ye.Down&&!c||i===ye.Up&&!o;if(h&&v.x!==u.x){const e=n.scrollLeft+t.x,o=i===ye.Right&&e<=d.x||i===ye.Left&&e>=f.x;if(o&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=o?n.scrollLeft-e:i===ye.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(p&&v.y!==u.y){const e=n.scrollTop+t.y,o=i===ye.Down&&e<=d.y||i===ye.Up&&e>=f.y;if(o&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=o?n.scrollTop-e:i===ye.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,O(M(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Re(e){return Boolean(e&&"distance"in e)}function Se(e){return Boolean(e&&"delay"in e)}Ce.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=De,onActivation:i}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=o.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class Oe{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=g(e);return e instanceof t?e:b(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=b(o),this.documentListeners=new pe(this.document),this.listeners=new pe(n),this.windowListeners=new pe(g(o)),this.initialCoordinates=null!=(r=N(i))?r:H,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(me.Resize,this.handleCancel),this.windowListeners.add(me.DragStart,we),this.windowListeners.add(me.VisibilityChange,this.handleCancel),this.windowListeners.add(me.ContextMenu,we),this.documentListeners.add(me.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Se(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Re(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(me.Click,xe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(me.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!r)return;const s=null!=(t=N(e))?t:H,l=M(r,s);if(!n&&a){if(Re(a)){if(null!=a.tolerance&&be(l,a.tolerance))return this.handleCancel();if(be(l,a.distance))return this.handleStart()}return Se(a)&&be(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),o(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===ye.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Me={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Te extends Oe{constructor(e){const{event:t}=e,n=b(t.target);super(e,Me,n)}}Te.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Ne={move:{name:"mousemove"},end:{name:"mouseup"}};var Ie;!function(e){e[e.RightClick=2]="RightClick"}(Ie||(Ie={}));(class extends Oe{constructor(e){super(e,Ne,b(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ie.RightClick&&(null==r||r({event:n}),!0)}}];const Ae={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var ke,Le;function _e(e){let{acceleration:n,activator:r=ke.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:s=5,order:l=Le.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:g}=e;const v=function(e){let{delta:t,disabled:n}=e;const r=E(t);return x(e=>{if(n||!r||!e)return Pe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[se.Backward]:e.x[se.Backward]||-1===i.x,[se.Forward]:e.x[se.Forward]||1===i.x},y:{[se.Backward]:e.y[se.Backward]||-1===i.y,[se.Forward]:e.y[se.Forward]||1===i.y}}},[n,t,r])}({delta:f,disabled:!a}),[h,p]=function(){const e=t.useRef(null);return[t.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),t.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),b=t.useRef({x:0,y:0}),m=t.useRef({x:0,y:0}),y=t.useMemo(()=>{switch(r){case ke.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ke.DraggableRect:return o}},[r,o,c]),w=t.useRef(null),D=t.useCallback(()=>{const e=w.current;if(!e)return;const t=b.current.x*m.current.x,n=b.current.y*m.current.y;e.scrollBy(t,n)},[]),C=t.useMemo(()=>l===Le.TreeOrder?[...u].reverse():u,[l,u]);t.useEffect(()=>{if(a&&u.length&&y){for(const e of C){if(!1===(null==i?void 0:i(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:o,speed:a}=de(e,r,y,n,g);for(const e of["x","y"])v[e][o[e]]||(a[e]=0,o[e]=0);if(a.x>0||a.y>0)return p(),w.current=e,h(D,s),b.current=a,void(m.current=o)}b.current={x:0,y:0},m.current={x:0,y:0},p()}else p()},[n,D,i,p,a,s,JSON.stringify(y),JSON.stringify(v),h,u,C,d,JSON.stringify(g)])}(class extends Oe{constructor(e){super(e,Ae)}static setup(){return window.addEventListener(Ae.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ae.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ke||(ke={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Le||(Le={}));const Pe={x:{[se.Backward]:!1,[se.Forward]:!1},y:{[se.Backward]:!1,[se.Forward]:!1}};var Be,ze;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Be||(Be={})),function(e){e.Optimized="optimized"}(ze||(ze={}));const Ue=new Map;function Fe(e,t){return x(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function je(e){let{callback:n,disabled:r}=e;const i=y(n),o=t.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(i)},[r]);return t.useEffect(()=>()=>null==o?void 0:o.disconnect(),[o]),o}function Xe(e){return new he(Z(e),e)}function Ye(e,n,r){void 0===n&&(n=Xe);const[i,o]=t.useState(null);function a(){o(t=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=t?t:r)?i:null;const o=n(e);return JSON.stringify(t)===JSON.stringify(o)?t:o})}const s=function(e){let{callback:n,disabled:r}=e;const i=y(n),o=t.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(i)},[i,r]);return t.useEffect(()=>()=>null==o?void 0:o.disconnect(),[o]),o}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),l=je({callback:a});return m(()=>{a(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[e]),i}const Ke=[];function He(e,n){void 0===n&&(n=[]);const r=t.useRef(null);return t.useEffect(()=>{r.current=null},n),t.useEffect(()=>{const t=e!==H;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?M(e,r.current):H}function We(e){return t.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const Ve=[];function qe(e){let{measure:n}=e;const[r,i]=t.useState(null),o=t.useCallback(e=>{for(const{target:t}of e)if(h(t)){i(e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r});break}},[n]),a=je({callback:o}),s=t.useCallback(e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return h(t)?t:e}(e);null==a||a.disconnect(),t&&(null==a||a.observe(t)),i(t?n(t):null)},[n,a]),[l,c]=D(s);return t.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Ge=[{sensor:Te,options:{}},{sensor:Ce,options:{}}],Je={current:{}},$e={draggable:{measure:ee},droppable:{measure:ee,strategy:Be.WhileDragging,frequency:ze.Optimized},dragOverlay:{measure:Z}};class Qe extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Ze={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:X},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$e,measureDroppableContainers:X,windowRect:null,measuringScheduled:!1},et={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:X,draggableNodes:new Map,over:null,measureDroppableContainers:X},tt=t.createContext(et),nt=t.createContext(Ze);function rt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qe}}}function it(e,t){switch(t.type){case j.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case j.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case j.DragEnd:case j.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case j.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Qe(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case j.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new Qe(e.droppable.containers);return a.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case j.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Qe(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function ot(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:o}=t.useContext(tt),a=E(i),s=E(null==r?void 0:r.id);return t.useEffect(()=>{if(!n&&!i&&a&&null!=s){if(!T(a))return;if(document.activeElement===a.target)return;const e=o.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=k(e);if(t){t.focus();break}}})}},[i,n,o,s,a]),null}const at=t.createContext({...H,scaleX:1,scaleY:1});var st;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(st||(st={}));const lt=t.memo(function(e){var r,i,o,a;let{id:s,accessibility:l,autoScroll:d=!0,children:f,sensors:v=Ge,collisionDetection:h=q,measuring:p,modifiers:b,...y}=e;const D=t.useReducer(it,void 0,rt),[E,C]=D,[S,M]=function(){const[e]=t.useState(()=>new Set),n=t.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[t.useCallback(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),n]}(),[T,I]=t.useState(st.Uninitialized),A=T===st.Initialized,{draggable:{active:k,nodes:L,translate:_},droppable:{containers:P}}=E,z=null!=k?L.get(k):null,U=t.useRef({initial:null,translated:null}),X=t.useMemo(()=>{var e;return null!=k?{id:k,data:null!=(e=null==z?void 0:z.data)?e:Je,rect:U}:null},[k,z]),Y=t.useRef(null),[K,W]=t.useState(null),[V,J]=t.useState(null),Q=w(y,Object.values(y)),ee=R("DndDescribedBy",s),ie=t.useMemo(()=>P.getEnabled(),[P]),oe=(se=p,t.useMemo(()=>({draggable:{...$e.draggable,...null==se?void 0:se.draggable},droppable:{...$e.droppable,...null==se?void 0:se.droppable},dragOverlay:{...$e.dragOverlay,...null==se?void 0:se.dragOverlay}}),[null==se?void 0:se.draggable,null==se?void 0:se.droppable,null==se?void 0:se.dragOverlay]));var se;const{droppableRects:ce,measureDroppableContainers:ue,measuringScheduled:de}=function(e,n){let{dragging:r,dependencies:i,config:o}=n;const[a,s]=t.useState(null),{frequency:l,measure:c,strategy:u}=o,d=t.useRef(e),f=function(){switch(u){case Be.Always:return!1;case Be.BeforeDragging:return r;default:return!r}}(),g=w(f),v=t.useCallback(function(e){void 0===e&&(e=[]),g.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[g]),h=t.useRef(null),p=x(t=>{if(f&&!r)return Ue;if(!t||t===Ue||d.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new he(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,r,f,c]);return t.useEffect(()=>{d.current=e},[e]),t.useEffect(()=>{f||v()},[r,f]),t.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),t.useEffect(()=>{f||"number"!=typeof l||null!==h.current||(h.current=setTimeout(()=>{v(),h.current=null},l))},[l,f,v,...i]),{droppableRects:p,measureDroppableContainers:v,measuringScheduled:null!=a}}(ie,{dragging:A,dependencies:[_.x,_.y],config:oe.droppable}),fe=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return x(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(L,k),ve=t.useMemo(()=>V?N(V):null,[V]),pe=function(){const e=!1===(null==K?void 0:K.autoScrollEnabled),t="object"==typeof d?!1===d.enabled:!1===d,n=A&&!e&&!t;if("object"==typeof d)return{...d,enabled:n};return{enabled:n}}(),be=function(e,t){return Fe(e,t)}(fe,oe.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:i,config:o=!0}=e;const a=t.useRef(!1),{x:s,y:l}="boolean"==typeof o?{x:o,y:o}:o;m(()=>{if(!s&&!l||!n)return void(a.current=!1);if(a.current||!i)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=G(r(e),i);if(s||(t.x=0),l||(t.y=0),a.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=ne(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,s,l,i,r])}({activeNode:null!=k?L.get(k):null,config:pe.layoutShiftCompensation,initialRect:be,measure:oe.draggable.measure});const me=Ye(fe,oe.draggable.measure,be),ye=Ye(fe?fe.parentElement:null),we=t.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=P.getNodeFor(null==(r=we.current.over)?void 0:r.id),De=qe({measure:oe.dragOverlay.measure}),Ee=null!=(i=De.nodeRef.current)?i:fe,Ce=A?null!=(o=De.rect)?o:me:null,Re=Boolean(De.nodeRef.current&&De.rect),Se=G(Oe=Re?null:me,Fe(Oe));var Oe;const Me=We(Ee?g(Ee):null),Te=function(e){const n=t.useRef(e),r=x(t=>e?t&&t!==Ke&&e&&n.current&&e.parentNode===n.current.parentNode?t:te(e):Ke,[e]);return t.useEffect(()=>{n.current=e},[e]),r}(A?null!=xe?xe:fe:null),Ne=function(e,n){void 0===n&&(n=Z);const[r]=e,i=We(r?g(r):null),[o,a]=t.useState(Ve);function s(){a(()=>e.length?e.map(e=>le(e)?i:new he(n(e),e)):Ve)}const l=je({callback:s});return m(()=>{null==l||l.disconnect(),s(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),o}(Te),Ie=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(b,{transform:{x:_.x-Se.x,y:_.y-Se.y,scaleX:1,scaleY:1},activatorEvent:V,active:X,activeNodeRect:me,containerNodeRect:ye,draggingNodeRect:Ce,over:we.current.over,overlayNodeRect:De.rect,scrollableAncestors:Te,scrollableAncestorRects:Ne,windowRect:Me}),Ae=ve?O(ve,_):null,ke=function(e){const[n,r]=t.useState(null),i=t.useRef(e),o=t.useCallback(e=>{const t=re(e.target);t&&r(e=>e?(e.set(t,ae(t)),new Map(e)):null)},[]);return t.useEffect(()=>{const t=i.current;if(e!==t){n(t);const a=e.map(e=>{const t=re(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,ae(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),i.current=e}return()=>{n(e),n(t)};function n(e){e.forEach(e=>{const t=re(e);null==t||t.removeEventListener("scroll",o)})}},[o,e]),t.useMemo(()=>e.length?n?Array.from(n.values()).reduce((e,t)=>O(e,t),H):ge(e):H,[e,n])}(Te),Le=He(ke),Pe=He(ke,[me]),ze=O(Ie,Le),Xe=Ce?$(Ce,Ie):null,Qe=X&&Xe?h({active:X,collisionRect:Xe,droppableRects:ce,droppableContainers:ie,pointerCoordinates:Ae}):null,Ze=function(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}(Qe,"id"),[et,lt]=t.useState(null),ct=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Re?Ie:O(Ie,Pe),null!=(a=null==et?void 0:et.rect)?a:null,me),ut=t.useRef(null),dt=t.useCallback((e,t)=>{let{sensor:n,options:r}=t;if(null==Y.current)return;const i=L.get(Y.current);if(!i)return;const o=e.nativeEvent,a=new n({active:Y.current,activeNode:i,event:o,options:r,context:we,onAbort(e){if(!L.get(e))return;const{onDragAbort:t}=Q.current,n={id:e};null==t||t(n),S({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!L.get(e))return;const{onDragPending:i}=Q.current,o={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(o),S({type:"onDragPending",event:o})},onStart(e){const t=Y.current;if(null==t)return;const n=L.get(t);if(!n)return;const{onDragStart:r}=Q.current,i={activatorEvent:o,active:{id:t,data:n.data,rect:U}};c.unstable_batchedUpdates(()=>{null==r||r(i),I(st.Initializing),C({type:j.DragStart,initialCoordinates:e,active:t}),S({type:"onDragStart",event:i}),W(ut.current),J(o)})},onMove(e){C({type:j.DragMove,coordinates:e})},onEnd:s(j.DragEnd),onCancel:s(j.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=we.current;let a=null;if(t&&i){const{cancelDrop:s}=Q.current;if(a={activatorEvent:o,active:t,collisions:n,delta:i,over:r},e===j.DragEnd&&"function"==typeof s){await Promise.resolve(s(a))&&(e=j.DragCancel)}}Y.current=null,c.unstable_batchedUpdates(()=>{C({type:e}),I(st.Uninitialized),lt(null),W(null),J(null),ut.current=null;const t=e===j.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=Q.current[t];null==e||e(a),S({type:t,event:a})}})}}ut.current=a},[L]),ft=t.useCallback((e,t)=>(n,r)=>{const i=n.nativeEvent,o=L.get(r);if(null!==Y.current||!o||i.dndKit||i.defaultPrevented)return;const a={active:o};!0===e(n,t.options,a)&&(i.dndKit={capturedBy:t.sensor},Y.current=r,dt(n,t))},[L,dt]),gt=function(e,n){return t.useMemo(()=>e.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[e,n])}(v,ft);!function(e){t.useEffect(()=>{if(!u)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(v),m(()=>{me&&T===st.Initializing&&I(st.Initialized)},[me,T]),t.useEffect(()=>{const{onDragMove:e}=Q.current,{active:t,activatorEvent:n,collisions:r,over:i}=we.current;if(!t||!n)return;const o={active:t,activatorEvent:n,collisions:r,delta:{x:ze.x,y:ze.y},over:i};c.unstable_batchedUpdates(()=>{null==e||e(o),S({type:"onDragMove",event:o})})},[ze.x,ze.y]),t.useEffect(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=we.current;if(!e||null==Y.current||!t||!i)return;const{onDragOver:o}=Q.current,a=r.get(Ze),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};c.unstable_batchedUpdates(()=>{lt(s),null==o||o(l),S({type:"onDragOver",event:l})})},[Ze]),m(()=>{we.current={activatorEvent:V,active:X,activeNode:fe,collisionRect:Xe,collisions:Qe,droppableRects:ce,draggableNodes:L,draggingNode:Ee,draggingNodeRect:Ce,droppableContainers:P,over:et,scrollableAncestors:Te,scrollAdjustedTranslate:ze},U.current={initial:Ce,translated:Xe}},[X,fe,Qe,Xe,L,Ee,Ce,ce,P,et,Te,ze]),_e({...pe,delta:_,draggingRect:Xe,pointerCoordinates:Ae,scrollableAncestors:Te,scrollableAncestorRects:Ne});const vt=t.useMemo(()=>({active:X,activeNode:fe,activeNodeRect:me,activatorEvent:V,collisions:Qe,containerNodeRect:ye,dragOverlay:De,draggableNodes:L,droppableContainers:P,droppableRects:ce,over:et,measureDroppableContainers:ue,scrollableAncestors:Te,scrollableAncestorRects:Ne,measuringConfiguration:oe,measuringScheduled:de,windowRect:Me}),[X,fe,me,V,Qe,ye,De,L,P,ce,et,ue,Te,Ne,oe,de,Me]),ht=t.useMemo(()=>({activatorEvent:V,activators:gt,active:X,activeNodeRect:me,ariaDescribedById:{draggable:ee},dispatch:C,draggableNodes:L,over:et,measureDroppableContainers:ue}),[V,gt,X,me,C,ee,L,et,ue]);return n.createElement(B.Provider,{value:M},n.createElement(tt.Provider,{value:ht},n.createElement(nt.Provider,{value:vt},n.createElement(at.Provider,{value:ct},f)),n.createElement(ot,{disabled:!1===(null==l?void 0:l.restoreFocus)})),n.createElement(F,{...l,hiddenTextDescribedById:ee}))}),ct=t.createContext(null),ut="button";function dt(e){let{id:n,data:r,disabled:i=!1,attributes:o}=e;const a=R("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:g}=t.useContext(tt),{role:v=ut,roleDescription:h="draggable",tabIndex:p=0}=null!=o?o:{},b=(null==c?void 0:c.id)===n,y=t.useContext(b?at:ct),[x,E]=D(),[C,S]=D(),O=function(e,n){return t.useMemo(()=>e.reduce((e,t)=>{let{eventName:r,handler:i}=t;return e[r]=e=>{i(e,n)},e},{}),[e,n])}(s,n),M=w(r);m(()=>(f.set(n,{id:n,key:a,node:x,activatorNode:C,data:M}),()=>{const e=f.get(n);e&&e.key===a&&f.delete(n)}),[f,n]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:t.useMemo(()=>({role:v,tabIndex:p,"aria-disabled":i,"aria-pressed":!(!b||v!==ut)||void 0,"aria-roledescription":h,"aria-describedby":d.draggable}),[i,v,p,b,h,d.draggable]),isDragging:b,listeners:i?void 0:O,node:x,over:g,setNodeRef:E,setActivatorNodeRef:S,transform:y}}const ft={timeout:25};function gt(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:o}=e;const a=R("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=t.useContext(tt),d=t.useRef({disabled:r}),f=t.useRef(!1),g=t.useRef(null),v=t.useRef(null),{disabled:h,updateMeasurementsFor:p,timeout:b}={...ft,...o},m=w(null!=p?p:i),y=je({callback:t.useCallback(()=>{f.current?(null!=v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),v.current=null},b)):f.current=!0},[b]),disabled:h||!s}),x=t.useCallback((e,t)=>{y&&(t&&(y.unobserve(t),f.current=!1),e&&y.observe(e))},[y]),[E,C]=D(x),S=w(n);return t.useEffect(()=>{y&&E.current&&(y.disconnect(),f.current=!1,y.observe(E.current))},[E,y]),t.useEffect(()=>(l({type:j.RegisterDroppable,element:{id:i,key:a,disabled:r,node:E,rect:g,data:S}}),()=>l({type:j.UnregisterDroppable,key:a,id:i})),[i]),t.useEffect(()=>{r!==d.current.disabled&&(l({type:j.SetDroppableDisabled,id:i,key:a,disabled:r}),d.current.disabled=r)},[i,a,r,l]),{active:s,rect:g,isOver:(null==c?void 0:c.id)===i,node:E,over:c,setNodeRef:C}}function vt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ht(e,t){return e.reduce((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function pt(e){return null!==e&&e>=0}const bt=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=vt(t,r,n),a=t[i],s=o[i];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},mt={scaleX:1,scaleY:1},yt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=e;const s=null!=(t=o[n])?t:r;if(!s)return null;if(i===n){const e=o[a];return e?{x:0,y:n<a?e.top+e.height-(s.top+s.height):e.top-s.top,...mt}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0;return o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(o,i,n);return i>n&&i<=a?{x:0,y:-s.height-l,...mt}:i<n&&i>=a?{x:0,y:s.height+l,...mt}:{x:0,y:0,...mt}};const wt="Sortable",xt=n.createContext({activeIndex:-1,containerId:wt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bt,disabled:{draggable:!1,droppable:!1}});function Dt(e){let{children:r,id:i,items:o,strategy:a=bt,disabled:s=!1}=e;const{active:l,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:f}=t.useContext(nt),g=R(wt,i),v=Boolean(null!==c.rect),h=t.useMemo(()=>o.map(e=>"object"==typeof e&&"id"in e?e.id:e),[o]),p=null!=l,b=l?h.indexOf(l.id):-1,y=d?h.indexOf(d.id):-1,w=t.useRef(h),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,w.current),D=-1!==y&&-1===b||x,E=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);m(()=>{x&&p&&f(h)},[x,h,p,f]),t.useEffect(()=>{w.current=h},[h]);const C=t.useMemo(()=>({activeIndex:b,containerId:g,disabled:E,disableTransforms:D,items:h,overIndex:y,useDragOverlay:v,sortedRects:ht(h,u),strategy:a}),[b,g,E.draggable,E.droppable,D,h,y,u,v,a]);return n.createElement(xt.Provider,{value:C},r)}const Et=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return vt(n,r,i).indexOf(t)},Ct=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((s===o||i!==a)&&(!!n||a!==i&&t===l))},Rt={duration:200,easing:"ease"},St="transform",Ot=I.Transition.toString({property:St,duration:0,easing:"linear"}),Mt={roleDescription:"sortable"};function Tt(e){let{animateLayoutChanges:n=Ct,attributes:r,disabled:i,data:o,getNewIndex:a=Et,id:s,strategy:l,resizeObserverConfig:c,transition:u=Rt}=e;const{items:d,containerId:f,activeIndex:g,disabled:v,disableTransforms:h,sortedRects:p,overIndex:b,useDragOverlay:y,strategy:w}=t.useContext(xt),x=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(i,v),D=d.indexOf(s),E=t.useMemo(()=>({sortable:{containerId:f,index:D,items:d},...o}),[f,o,D,d]),C=t.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:R,node:S,isOver:O,setNodeRef:M}=gt({id:s,data:E,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:N,activatorEvent:A,activeNodeRect:k,attributes:L,setNodeRef:_,listeners:P,isDragging:B,over:z,setActivatorNodeRef:U,transform:F}=dt({id:s,data:E,attributes:{...Mt,...r},disabled:x.draggable}),j=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo(()=>e=>{n.forEach(t=>t(e))},n)}(M,_),X=Boolean(N),Y=X&&!h&&pt(g)&&pt(b),K=!y&&B,H=K&&Y?F:null,W=Y?null!=H?H:(null!=l?l:w)({rects:p,activeNodeRect:k,activeIndex:g,overIndex:b,index:D}):null,V=pt(g)&&pt(b)?a({id:s,items:d,activeIndex:g,overIndex:b}):D,q=null==N?void 0:N.id,G=t.useRef({activeId:q,items:d,newIndex:V,containerId:f}),J=d!==G.current.items,$=n({active:N,containerId:f,isDragging:B,isSorting:X,id:s,index:D,items:d,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:null!=G.current.activeId}),Q=function(e){let{disabled:n,index:r,node:i,rect:o}=e;const[a,s]=t.useState(null),l=t.useRef(r);return m(()=>{if(!n&&r!==l.current&&i.current){const e=o.current;if(e){const t=Z(i.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)},[n,r,i,o]),t.useEffect(()=>{a&&s(null)},[a]),a}({disabled:!$,index:D,node:S,rect:R});return t.useEffect(()=>{X&&G.current.newIndex!==V&&(G.current.newIndex=V),f!==G.current.containerId&&(G.current.containerId=f),d!==G.current.items&&(G.current.items=d)},[X,V,f,d]),t.useEffect(()=>{if(q===G.current.activeId)return;if(null!=q&&null==G.current.activeId)return void(G.current.activeId=q);const e=setTimeout(()=>{G.current.activeId=q},50);return()=>clearTimeout(e)},[q]),{active:N,activeIndex:g,attributes:L,data:E,rect:R,index:D,newIndex:V,items:d,isOver:O,isSorting:X,isDragging:B,listeners:P,node:S,overIndex:b,over:z,setNodeRef:j,setActivatorNodeRef:U,setDroppableNodeRef:M,setDraggableNodeRef:_,transform:null!=Q?Q:W,transition:function(){if(Q||J&&G.current.newIndex===D)return Ot;if(K&&!T(A)||!u)return;if(X||$)return I.Transition.toString({...u,property:St});return}()}}ye.Down,ye.Right,ye.Up,ye.Left;export{lt as D,Te as P,Dt as S,gt as a,K as b,Y as c,l as r,Tt as u,yt as v};
