# orchestrator-cc 概要

## プロジェクト名

**orchestrator-cc**: Orchestrator for Claude Code

## ディレクトリ

プロジェクトのルートディレクトリ（作業コピーの場所）

## プロジェクトの目的

orchestrator-cc は、**複数の Claude Code インスタンスを実際に走らせて、それらに生のやり取りをさせるシステム**です。

## 背景

### 既存の orchestrator プロジェクトとの違い

| 項目 | orchestrator（既存） | orchestrator-cc（本プロジェクト） |
|------|---------------------|-------------------------------|
| **アーキテクチャ** | Pythonオブジェクトとしてのエージェント | Claude Codeインスタンスをプロセスとして起動 |
| **通信方法** | Pythonメソッド呼び出し | MCPプロトコル（stdio） |
| **LLM呼び出し** | 単一プロセスからLLM APIを呼び出し | 各インスタンスが独立してLLMを呼び出し |
| **レートリミット** | 1つのAPIキーで制限 | 複数インスタンスで分散 |
| **目的** | マルチLLM調整システム | Claude Code同士の直接連携 |

### 「AIエージェント会議室」との関連

過去に「AIエージェント会議室」という試みがありましたが、うまくいきませんでした。orchestrator-cc は、この「AIエージェント会議室」の精神を受け継ぎつつ、以下の点で改善を目指します：

1. **Claude Codeの機能をそのまま活用** - Claude Codeが持っているツール、スキル、知識をそのまま使用
2. **生のやり取りの可視化** - 各インスタンスの会話をリアルタイムで観察可能
3. **思考ログの詳細出力** - 単なる「タスク受信」だけでなく、思考過程も表示
4. **性格づけ** - 各インスタンスに個性を持たせ、より人間らしい会話を実現

## 核心機能

| 機能 | 説明 |
|------|------|
| **Claude Code同士の直接通信** | MCPプロトコル（stdio）でプロセス間直接通信（API wrapperなし） |
| **思考ログの詳細出力** | 各インスタンスが思考過程をログに出力 |
| **性格づけ** | システムプロンプトで各インスタンスに個性を持たせる |
| **会話の観察** | ターミナルでリアルタイム観察 → 将来的にはWebブラウザ |

## 使用イメージ

```bash
$ orchestrator-cc cluster start

[INFO] 起動中: grand_boss (ポート9000)
[INFO] 起動中: middle_manager (ポート9001)
[INFO] 起動中: coding_specialist (ポート9010)
[INFO] 全プロセスが起動しました
[INFO] Enterでユーザー入力モード、Ctrl+Cで停止

--- ターミナル1: Grand Boss ---
[14:32:10] > ユーザーからタスク受信: Webアプリを作って
[14:32:10] [思考] これは複雑なタスクだな。Middle Managerに分解してもらおう。
[14:32:10]         まずは全体の要件を整理して依頼する必要がある。
[14:32:10]         - フロントエンドが必要
[14:32:10]         - バックエンドが必要
[14:32:10]         - データベース設計が必要
[14:32:11] > Middle Managerへ送信: タスクの分解をお願い

--- ターミナル2: Middle Manager ---
[14:32:11] > Grand Bossから受信: タスクの分解をお願い
[14:32:11] [思考] 了解。まず要件を整理しよう。
[14:32:11]         - フロントエンド: Coding Specialist
[14:32:11]         - バックエンド: Coding Specialist
[14:32:11]         - DB設計: Analysis Specialist
[14:32:11]         この3人に割り振って、結果を集約するぞ。
[14:32:12] > Coding Specialistへ送信: フロントエンド実装をお願い
```

## 開発の現状

- **フェーズ**: 計画・設計段階
- **ステータス**: 実装開始前
- **次のステップ**: `claude mcp serve` の動作確認

## ドキュメント構成

```
docs/
├── overview.md              # 本文档（概要）
├── architecture.md          # アーキテクチャ詳細
├── requirements.md          # 要件定義
├── technical-decisions.md   # 技術選択の背景
├── roadmap.md              # 実装ロードマップ
├── specs/
│   ├── thinking-log.md     # 思考ログ仕様
│   ├── personality.md      # 性格づけ仕様
│   ├── communication.md    # 通信プロトコル仕様
│   └── api.md              # API仕様
├── validation.md           # 必要な検証事項
├── risks.md                # リスク評価
└── references.md           # 参考文献・リソース
```

## ライセンス

本プロジェクトは、元のorchestratorプロジェクトと同様のライセンスを使用します。

## 貢献

本プロジェクトへの貢献をお待ちしています。詳細はCLAUDE.mdを参照してください。
